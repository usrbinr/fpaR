<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ABC Segmentation • fpaR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="abc_files/libs/quarto-html/popper.min.js"></script><script src="abc_files/libs/quarto-html/tippy.umd.min.js"></script><link href="abc_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="abc_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ABC Segmentation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fpaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/abc.html">ABC Segmentation</a></li>
    <li><a class="dropdown-item" href="../articles/calendar_types.html">Standard vs. 5-5-4 Calendar</a></li>
    <li><a class="dropdown-item" href="../articles/cohort.html">cohort</a></li>
    <li><a class="dropdown-item" href="../articles/getting_started_with_ti.html">Getting started</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/usrbinr"><span class="fa fab fa-github"></span> GitHub</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/usrbinr.bsky.social"><span class="fa fab fa-bluesky"></span> Bluesky</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ABC Segmentation</h1>
      <p class="subtitle">How to use segmentation strategies to simplify your analysis</p>

      <p class="date">2025-11-25</p>


      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="cell-output-display">

</div>
</div>
<section class="level3"><h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>In business and financial analytics, the <strong>ABC classification</strong> method is widely used to categorize items, customers, or other groups according to their relative contribution to a total metric.</p>
<p>The <code><a href="../reference/abc.html">abc()</a></code> function provides a flexible and robust way to perform ABC segmentation, either based on <strong>transaction counts</strong> or the sum of a <strong>numeric variable</strong> such as sales margin or revenue.</p>
</section><section class="level3"><h3 id="function-purpose">Function Purpose<a class="anchor" aria-label="anchor" href="#function-purpose"></a>
</h3>
<p><code><a href="../reference/abc.html">abc()</a></code>:</p>
<ul>
<li>Segments a dataset into categories (A, B, C, etc.) based on cumulative contribution.</li>
<li>Allows for <strong>custom break points</strong> (e.g., top 10% = A, next 40% = B, etc.).</li>
<li>Works on both <strong>grouped tibbles</strong> and <strong>database-backed objects</strong>.</li>
<li>Returns a <strong>segment object</strong>, which is processed by <code><a href="../reference/calculate.html">calculate()</a></code> to produce a table of results.</li>
</ul></section><section class="level3"><h3 id="how-it-works">How It Works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h3>
<blockquote>
<p><code><a href="../reference/abc.html">fpaR::abc()</a></code> requires a grouped tibble or lazy DBI object using <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by()</a></code> to specify the groups that drive the contribution</p>
</blockquote>
<p><strong>Value Capture</strong></p>
<ul>
<li>If <code>.value</code> is provided, the the column is aggregate per group; otherwise, it counts rows.</li>
</ul>
<p><strong>Category Values</strong></p>
<ul>
<li>Provide the break points break points that are used to set the cumulative categories. Each break point will get a letter category starting with ‘A’</li>
<li>If you want to see the stores that make up the top 40% of revenue follow by top 70% and then 90% you should put in <code>c(0.4,.7,.9,1)</code>
</li>
</ul>
<div class="cell">
<div id="tbl-abc-args" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-abc-args-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 1
</figcaption><div aria-describedby="tbl-abc-args-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script><script>
      // Create table-specific functions using external factory
      const tableFns_ufnb5cq5x6jd78ie0xia = TinyTable.createTableFunctions("tinytable_ufnb5cq5x6jd78ie0xia");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '3', j: 1 }, { i: '3', j: 2 } ], css_id: 'tinytable_css_236ys74cjfbxuyznijvp',},
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 } ], css_id: 'tinytable_css_h0uor28dl4dddarbioey',},
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_ufnb5cq5x6jd78ie0xia.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
<style>
    /* tinytable css entries after */
    #tinytable_ufnb5cq5x6jd78ie0xia td.tinytable_css_236ys74cjfbxuyznijvp, #tinytable_ufnb5cq5x6jd78ie0xia th.tinytable_css_236ys74cjfbxuyznijvp {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    #tinytable_ufnb5cq5x6jd78ie0xia td.tinytable_css_h0uor28dl4dddarbioey, #tinytable_ufnb5cq5x6jd78ie0xia th.tinytable_css_h0uor28dl4dddarbioey {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    </style>
<div class="container">
      <table class="table tinytable" id="tinytable_ufnb5cq5x6jd78ie0xia" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col" data-row="0" data-col="1">Argument</th>
                <th scope="col" data-row="0" data-col="2">Description</th>
              </tr></thead>
<tbody>
<tr>
<td data-row="1" data-col="1">.data</td>
                  <td data-row="1" data-col="2">A grouped tibble or DBI object (using dplyr::group_by())</td>
                </tr>
<tr>
<td data-row="2" data-col="1">category_values</td>
                  <td data-row="2" data-col="2">A numeric vector of breakpoints between 0 and 1, representing cumulative proportions for ABC categories.</td>
                </tr>
<tr>
<td data-row="3" data-col="1">.value</td>
                  <td data-row="3" data-col="2">Optional. A column to sum for categorization. If not provided, the function counts the number of rows per group.</td>
                </tr>
</tbody>
</table>
</div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example</span></span>
<span></span>
<span><span class="fu">contoso</span><span class="fu">::</span><span class="va"><a href="https://usrbinr.github.io/contoso/reference/sales.html" class="external-link">sales</a></span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">store_key</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">fpaR</span><span class="fu">::</span><span class="fu"><a href="../reference/abc.html">abc</a></span><span class="op">(</span></span>
<span>      category_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>,<span class="fl">.7</span>,<span class="fl">.9</span>,<span class="fl">1</span><span class="op">)</span>, </span>
<span>      .value <span class="op">=</span> <span class="va">margin</span></span>
<span>      <span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── ABC Classification ──────────────────────────────────────────────────────────</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Function: `ABC` was executed</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Description: ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>This calculates a rolling cumulative distribution of variable and segments each
group member's contribution by the break points provided. Helpful to know which
group member's proportational contribution to the total.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Category Information ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
• The data set is grouped by the margin and segments each group member by their first NA entry to define their cohort margin
• This creates cohort ID that each member is assigned to eg; January 2020, February 2020, etc
• The distinct count of each margin member in the cohort is then tracked over time</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Calendar: ──</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>• The calendar aggregated NA to the day time unit
• A NA calendar is created with 1 groups
• Calendar ranges from 0 to 0
• 0 days were missing and replaced with 0
• New date column NA was created from NA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Actions: ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔Aggregate</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✖Shift</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✖Compare</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔Proportion Of Total</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✖Count Distinct</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Next Steps: ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>• Use `calculate()` to return the results</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>────────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
<p>The function returns a <strong>segment object</strong>. Use <code><a href="../reference/calculate.html">calculate()</a></code> to generate the ABC classification table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">contoso</span><span class="fu">::</span><span class="va"><a href="https://usrbinr.github.io/contoso/reference/sales.html" class="external-link">sales</a></span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">store_key</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">fpaR</span><span class="fu">::</span><span class="fu"><a href="../reference/abc.html">abc</a></span><span class="op">(</span></span>
<span>      category_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>,<span class="fl">.7</span>,<span class="fl">.9</span>,<span class="fl">1</span><span class="op">)</span>, </span>
<span>      .value <span class="op">=</span> <span class="va">margin</span></span>
<span>      <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">fpaR</span><span class="fu">::</span><span class="fu"><a href="../reference/calculate.html">calculate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div id="tbl-output-no-echo" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-output-no-echo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 2
</figcaption><div aria-describedby="tbl-output-no-echo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display column-screen">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script><script>
      // Create table-specific functions using external factory
      const tableFns_usvx38chpy3sk97wcalo = TinyTable.createTableFunctions("tinytable_usvx38chpy3sk97wcalo");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '10', j: 1 }, { i: '10', j: 2 }, { i: '10', j: 3 }, { i: '10', j: 4 }, { i: '10', j: 5 }, { i: '10', j: 6 }, { i: '10', j: 7 }, { i: '10', j: 8 }, { i: '10', j: 9 }, { i: '10', j: 10 } ], css_id: 'tinytable_css_552nr708q0oekm93qnhw',},
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 }, { i: '0', j: 8 }, { i: '0', j: 9 }, { i: '0', j: 10 } ], css_id: 'tinytable_css_sqfzhbtvhe25gn9spspn',},
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_usvx38chpy3sk97wcalo.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
<style>
    /* tinytable css entries after */
    #tinytable_usvx38chpy3sk97wcalo td.tinytable_css_552nr708q0oekm93qnhw, #tinytable_usvx38chpy3sk97wcalo th.tinytable_css_552nr708q0oekm93qnhw {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    #tinytable_usvx38chpy3sk97wcalo td.tinytable_css_sqfzhbtvhe25gn9spspn, #tinytable_usvx38chpy3sk97wcalo th.tinytable_css_sqfzhbtvhe25gn9spspn {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    </style>
<div class="container">
      <table class="table tinytable" id="tinytable_usvx38chpy3sk97wcalo" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col" data-row="0" data-col="1">store_key</th>
                <th scope="col" data-row="0" data-col="2">abc_margin</th>
                <th scope="col" data-row="0" data-col="3">cum_sum</th>
                <th scope="col" data-row="0" data-col="4">prop_total</th>
                <th scope="col" data-row="0" data-col="5">cum_prop_total</th>
                <th scope="col" data-row="0" data-col="6">row_id</th>
                <th scope="col" data-row="0" data-col="7">max_row_id</th>
                <th scope="col" data-row="0" data-col="8">cum_unit_prop</th>
                <th scope="col" data-row="0" data-col="9">category_value</th>
                <th scope="col" data-row="0" data-col="10">category_name</th>
              </tr></thead>
<tbody>
<tr>
<td data-row="1" data-col="1">540</td>
                  <td data-row="1" data-col="2">78124.11</td>
                  <td data-row="1" data-col="3">78124.11</td>
                  <td data-row="1" data-col="4">0.04102100</td>
                  <td data-row="1" data-col="5">0.04102100</td>
                  <td data-row="1" data-col="6">1</td>
                  <td data-row="1" data-col="7">57</td>
                  <td data-row="1" data-col="8">0.01754386</td>
                  <td data-row="1" data-col="9">0.4</td>
                  <td data-row="1" data-col="10">a</td>
                </tr>
<tr>
<td data-row="2" data-col="1">610</td>
                  <td data-row="2" data-col="2">74603.84</td>
                  <td data-row="2" data-col="3">152727.95</td>
                  <td data-row="2" data-col="4">0.03917259</td>
                  <td data-row="2" data-col="5">0.08019359</td>
                  <td data-row="2" data-col="6">2</td>
                  <td data-row="2" data-col="7">57</td>
                  <td data-row="2" data-col="8">0.03508772</td>
                  <td data-row="2" data-col="9">0.4</td>
                  <td data-row="2" data-col="10">a</td>
                </tr>
<tr>
<td data-row="3" data-col="1">510</td>
                  <td data-row="3" data-col="2">69455.50</td>
                  <td data-row="3" data-col="3">222183.44</td>
                  <td data-row="3" data-col="4">0.03646933</td>
                  <td data-row="3" data-col="5">0.11666292</td>
                  <td data-row="3" data-col="6">3</td>
                  <td data-row="3" data-col="7">57</td>
                  <td data-row="3" data-col="8">0.05263158</td>
                  <td data-row="3" data-col="9">0.4</td>
                  <td data-row="3" data-col="10">a</td>
                </tr>
<tr>
<td data-row="4" data-col="1">80</td>
                  <td data-row="4" data-col="2">67880.51</td>
                  <td data-row="4" data-col="3">290063.96</td>
                  <td data-row="4" data-col="4">0.03564234</td>
                  <td data-row="4" data-col="5">0.15230526</td>
                  <td data-row="4" data-col="6">4</td>
                  <td data-row="4" data-col="7">57</td>
                  <td data-row="4" data-col="8">0.07017544</td>
                  <td data-row="4" data-col="9">0.4</td>
                  <td data-row="4" data-col="10">a</td>
                </tr>
<tr>
<td data-row="5" data-col="1">270</td>
                  <td data-row="5" data-col="2">56722.52</td>
                  <td data-row="5" data-col="3">346786.47</td>
                  <td data-row="5" data-col="4">0.02978356</td>
                  <td data-row="5" data-col="5">0.18208882</td>
                  <td data-row="5" data-col="6">5</td>
                  <td data-row="5" data-col="7">57</td>
                  <td data-row="5" data-col="8">0.08771930</td>
                  <td data-row="5" data-col="9">0.4</td>
                  <td data-row="5" data-col="10">a</td>
                </tr>
<tr>
<td data-row="6" data-col="1">440</td>
                  <td data-row="6" data-col="2">56500.03</td>
                  <td data-row="6" data-col="3">403286.51</td>
                  <td data-row="6" data-col="4">0.02966674</td>
                  <td data-row="6" data-col="5">0.21175556</td>
                  <td data-row="6" data-col="6">6</td>
                  <td data-row="6" data-col="7">57</td>
                  <td data-row="6" data-col="8">0.10526316</td>
                  <td data-row="6" data-col="9">0.4</td>
                  <td data-row="6" data-col="10">a</td>
                </tr>
<tr>
<td data-row="7" data-col="1">450</td>
                  <td data-row="7" data-col="2">54941.68</td>
                  <td data-row="7" data-col="3">458228.19</td>
                  <td data-row="7" data-col="4">0.02884849</td>
                  <td data-row="7" data-col="5">0.24060405</td>
                  <td data-row="7" data-col="6">7</td>
                  <td data-row="7" data-col="7">57</td>
                  <td data-row="7" data-col="8">0.12280702</td>
                  <td data-row="7" data-col="9">0.4</td>
                  <td data-row="7" data-col="10">a</td>
                </tr>
<tr>
<td data-row="8" data-col="1">550</td>
                  <td data-row="8" data-col="2">53874.43</td>
                  <td data-row="8" data-col="3">512102.61</td>
                  <td data-row="8" data-col="4">0.02828810</td>
                  <td data-row="8" data-col="5">0.26889216</td>
                  <td data-row="8" data-col="6">8</td>
                  <td data-row="8" data-col="7">57</td>
                  <td data-row="8" data-col="8">0.14035088</td>
                  <td data-row="8" data-col="9">0.4</td>
                  <td data-row="8" data-col="10">a</td>
                </tr>
<tr>
<td data-row="9" data-col="1">490</td>
                  <td data-row="9" data-col="2">51347.82</td>
                  <td data-row="9" data-col="3">563450.44</td>
                  <td data-row="9" data-col="4">0.02696145</td>
                  <td data-row="9" data-col="5">0.29585360</td>
                  <td data-row="9" data-col="6">9</td>
                  <td data-row="9" data-col="7">57</td>
                  <td data-row="9" data-col="8">0.15789474</td>
                  <td data-row="9" data-col="9">0.4</td>
                  <td data-row="9" data-col="10">a</td>
                </tr>
<tr>
<td data-row="10" data-col="1">650</td>
                  <td data-row="10" data-col="2">49467.08</td>
                  <td data-row="10" data-col="3">612917.52</td>
                  <td data-row="10" data-col="4">0.02597392</td>
                  <td data-row="10" data-col="5">0.32182752</td>
                  <td data-row="10" data-col="6">10</td>
                  <td data-row="10" data-col="7">57</td>
                  <td data-row="10" data-col="8">0.17543860</td>
                  <td data-row="10" data-col="9">0.4</td>
                  <td data-row="10" data-col="10">a</td>
                </tr>
</tbody>
</table>
</div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>This table contains grouped data with various metrics, highlighting the contribution of each group in terms of both value and transaction count. Below is an explanation of the key columns and how to interpret the results:</p>
</section><section class="level3"><h3 id="understanding-the-results">Understanding the Results<a class="anchor" aria-label="anchor" href="#understanding-the-results"></a>
</h3>
<ul>
<li><p>Store 540 has a margin of $7,812.11 (“ABC Margin”), which accounts for about 4% (“prop_total”) of the total margin across all stores</p></li>
<li><p>The “cum_sum” column tracks the running total of values (e.g., revenue or count) for each store, showing the cumulative sum up to that row</p></li>
<li><p>The “cum_prop_total” column shows each store’s contribution as a percentage of the total margin as you move down the table</p></li>
<li><p>The store with the highest contribution has a “row_id” of 1 and is assigned to the first category segment (‘A’) via the “category_name” column</p></li>
<li><p>The “max_row_id” shows that there are 57 additional stores in the same category (‘A’)</p></li>
<li><p>The “cum_unit_prop” column tracks the cumulative contribution from a transaction count perspective, similar to cum_prop_total but at the unit level</p></li>
<li><p>The category_value and category_name columns define the breakpoints you provided, assigning stores to categories (e.g., ‘A’, ‘B’, ‘C’) based on their cumulative contribution</p></li>
</ul>
<p>This is summarized in <a href="#tbl-output" class="quarto-xref">Table 3</a> below</p>
<div class="cell">
<div id="tbl-output" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 3
</figcaption><div aria-describedby="tbl-output-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display column-screen">
<!-- preamble start -->

    <script src="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js"></script><script>
      // Create table-specific functions using external factory
      const tableFns_bjjpl5w2n87ebtn3zitt = TinyTable.createTableFunctions("tinytable_bjjpl5w2n87ebtn3zitt");
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: '8', j: 1 }, { i: '8', j: 2 }, { i: '8', j: 3 } ], css_id: 'tinytable_css_m4val8zv0s5k6kxrksbs',},
          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 } ], css_id: 'tinytable_css_pggo078b0whv4zfdpvgl',},
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  tableFns_bjjpl5w2n87ebtn3zitt.styleCell(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css">
<style>
    /* tinytable css entries after */
    #tinytable_bjjpl5w2n87ebtn3zitt td.tinytable_css_m4val8zv0s5k6kxrksbs, #tinytable_bjjpl5w2n87ebtn3zitt th.tinytable_css_m4val8zv0s5k6kxrksbs {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    #tinytable_bjjpl5w2n87ebtn3zitt td.tinytable_css_pggo078b0whv4zfdpvgl, #tinytable_bjjpl5w2n87ebtn3zitt th.tinytable_css_pggo078b0whv4zfdpvgl {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: black; --line-color-left: black; --line-color-right: black; --line-color-top: black; --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }
    </style>
<div class="container">
      <table class="table tinytable" id="tinytable_bjjpl5w2n87ebtn3zitt" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col" data-row="0" data-col="1">Column_Name</th>
                <th scope="col" data-row="0" data-col="2">Description</th>
                <th scope="col" data-row="0" data-col="3">Example_Values</th>
              </tr></thead>
<tbody>
<tr>
<td data-row="1" data-col="1">cum_sum</td>
                  <td data-row="1" data-col="2">The cumulative sum of the specified values (e.g., revenue, count, etc.), aggregated per group. Represents the total value up to that row.</td>
                  <td data-row="1" data-col="3">1000, 2500, 4000</td>
                </tr>
<tr>
<td data-row="2" data-col="1">prop_total</td>
                  <td data-row="2" data-col="2">The proportion of the total for each row's value. Shows the percentage of the total represented by the current row's contribution.</td>
                  <td data-row="2" data-col="3">0.10, 0.25, 0.40</td>
                </tr>
<tr>
<td data-row="3" data-col="1">cum_prop_total</td>
                  <td data-row="3" data-col="2">The cumulative proportion of the total, showing the running total percentage of the entire dataset as you move through the rows.</td>
                  <td data-row="3" data-col="3">0.10, 0.35, 0.75</td>
                </tr>
<tr>
<td data-row="4" data-col="1">row_id</td>
                  <td data-row="4" data-col="2">The unique identifier for the row, often used to track or identify specific rows in the dataset. Typically sequential ID or index.</td>
                  <td data-row="4" data-col="3">1, 2, 3</td>
                </tr>
<tr>
<td data-row="5" data-col="1">max_row_id</td>
                  <td data-row="5" data-col="2">The maximum row ID in the current group (if grouping is applied), representing the total number of rows in the group.</td>
                  <td data-row="5" data-col="3">5, 5, 5</td>
                </tr>
<tr>
<td data-row="6" data-col="1">cum_unit_prop</td>
                  <td data-row="6" data-col="2">The cumulative proportion of the unit values, similar to cum_prop_total, but typically used when the unit is treated as aggregate.</td>
                  <td data-row="6" data-col="3">0.10, 0.30, 0.70</td>
                </tr>
<tr>
<td data-row="7" data-col="1">category_value</td>
                  <td data-row="7" data-col="2">The category value that corresponds to the cumulative proportion break points (e.g., top 10%, top 40%, etc.). Based on the break points provided.</td>
                  <td data-row="7" data-col="3">0.4, 0.7, 0.9</td>
                </tr>
<tr>
<td data-row="8" data-col="1">category_name</td>
                  <td data-row="8" data-col="2">The name of the category assigned to each row based on the cumulative contribution. Categories are represented by letters (A, B, C, etc.).</td>
                  <td data-row="8" data-col="3">"A", "B", "C"</td>
                </tr>
</tbody>
</table>
</div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alejandro Hagan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
